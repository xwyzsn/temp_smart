
# ---------------------------------------------------------------------------------------
# Orden de los nodos 2-1-3-4
# ---------------------------------------------------------------------------------------


>>> from dmak.data import supertree_bid_2134
>>> nodes = supertree_bid_2134()
>>> nodes
0  C compbid   .350  400.00 bid       
               .500  600.00 bid       
               .150  800.00 bid       
1  D bid             500.00 cost      
                     700.00 cost      
2  C cost      .250  200.00 profit    
               .500  400.00 profit    
               .250  600.00 profit    
3  T profit    

>>> from dmak.decisiontree import DecisionTree
>>> tree = DecisionTree(
...     variables=nodes,
...     initial_variable="compbid"
... )
>>> tree
STRUCTURE    NAMES    OUTCOMES     OUTCOMES        
<BLANKLINE>
0C1 10 19    compbid  400 600 800  .350 .500 .150  
1D2 6        bid      500 700                      
2C3 4 5      cost     200 400 600  .250 .500 .250  
3T           profit                                
4T           profit                                
5T           profit                                
6C7 8 9      cost     200 400 600  .250 .500 .250  
7T           profit                                
8T           profit                                
9T           profit                                
10D11 15     bid      500 700                      
11C12 13 14  cost     200 400 600  .250 .500 .250  
12T          profit                                
13T          profit                                
14T          profit                                
15C16 17 18  cost     200 400 600  .250 .500 .250  
16T          profit                                
17T          profit                                
18T          profit                                
19D20 24     bid      500 700                      
20C21 22 23  cost     200 400 600  .250 .500 .250  
21T          profit                                
22T          profit                                
23T          profit                                
24C25 26 27  cost     200 400 600  .250 .500 .250  
25T          profit                                
26T          profit                                
27T          profit                                


>>> tree.display()
|
| 
\---[C]
     | compbid
     | .350   400.00 
     +------------[D]
     |             | bid
     |             |   500.00 
     |             +-------[C]
     |             |        | cost
     |             |        | .250   200.00 
     |             |        | .500   400.00 
     |             |        \ .250   600.00 
     |             | bid
     |             |   700.00 
     |             \-------[C]
     |                      | cost
     |                      | .250   200.00 
     |                      | .500   400.00 
     |                      \ .250   600.00 
     | compbid
     | .500   600.00 
     +------------[D]
     |             | bid
     |             |   500.00 
     |             +-------[C]
     |             |        | cost
     |             |        | .250   200.00 
     |             |        | .500   400.00 
     |             |        \ .250   600.00 
     |             | bid
     |             |   700.00 
     |             \-------[C]
     |                      | cost
     |                      | .250   200.00 
     |                      | .500   400.00 
     |                      \ .250   600.00 
     | compbid
     | .150   800.00 
     \------------[D]
                   | bid
                   |   500.00 
                   +-------[C]
                   |        | cost
                   |        | .250   200.00 
                   |        | .500   400.00 
                   |        \ .250   600.00 
                   | bid
                   |   700.00 
                   \-------[C]
                            | cost
                            | .250   200.00 
                            | .500   400.00 
                            \ .250   600.00 





>>> tree.evaluate()
>>> tree.display()
|
| 
\---[C]
     | compbid
     | .350   400.00 
     +------------[D]
     |             | bid
     |             |   500.00 
     |             +-------[C]
     |             |        | cost
     |             |        | .250   200.00     0.00 
     |             |        | .500   400.00     0.00 
     |             |        \ .250   600.00     0.00 
     |             | bid
     |             |   700.00 
     |             \-------[C]
     |                      | cost
     |                      | .250   200.00     0.00 
     |                      | .500   400.00     0.00 
     |                      \ .250   600.00     0.00 
     | compbid
     | .500   600.00 
     +------------[D]
     |             | bid
     |             |   500.00 
     |             +-------[C]
     |             |        | cost
     |             |        | .250   200.00   300.00 
     |             |        | .500   400.00   100.00 
     |             |        \ .250   600.00  -100.00 
     |             | bid
     |             |   700.00 
     |             \-------[C]
     |                      | cost
     |                      | .250   200.00     0.00 
     |                      | .500   400.00     0.00 
     |                      \ .250   600.00     0.00 
     | compbid
     | .150   800.00 
     \------------[D]
                   | bid
                   |   500.00 
                   +-------[C]
                   |        | cost
                   |        | .250   200.00   300.00 
                   |        | .500   400.00   100.00 
                   |        \ .250   600.00  -100.00 
                   | bid
                   |   700.00 
                   \-------[C]
                            | cost
                            | .250   200.00   500.00 
                            | .500   400.00   300.00 
                            \ .250   600.00   100.00 





>>> tree.rollback()
95.0

>>> tree.display()
|
|    95.00 
\-------[C]
         | compbid
         | .350   400.00     0.00 
         +---------------------[D]
         |                      | bid
         |                      >   500.00     0.00 
         |                      +----------------[C]
         |                      |                 | cost
         |                      |                 | .250   200.00     0.00 
         |                      |                 | .500   400.00     0.00 
         |                      |                 \ .250   600.00     0.00 
         |                      | bid
         |                      |   700.00     0.00 
         |                      \----------------[C]
         |                                        | cost
         |                                        | .250   200.00     0.00 
         |                                        | .500   400.00     0.00 
         |                                        \ .250   600.00     0.00 
         | compbid
         | .500   600.00   100.00 
         +---------------------[D]
         |                      | bid
         |                      >   500.00   100.00 
         |                      +----------------[C]
         |                      |                 | cost
         |                      |                 | .250   200.00   300.00 
         |                      |                 | .500   400.00   100.00 
         |                      |                 \ .250   600.00  -100.00 
         |                      | bid
         |                      |   700.00     0.00 
         |                      \----------------[C]
         |                                        | cost
         |                                        | .250   200.00     0.00 
         |                                        | .500   400.00     0.00 
         |                                        \ .250   600.00     0.00 
         | compbid
         | .150   800.00   300.00 
         \---------------------[D]
                                | bid
                                |   500.00   100.00 
                                +----------------[C]
                                |                 | cost
                                |                 | .250   200.00   300.00 
                                |                 | .500   400.00   100.00 
                                |                 \ .250   600.00  -100.00 
                                | bid
                                >   700.00   300.00 
                                \----------------[C]
                                                  | cost
                                                  | .250   200.00   500.00 
                                                  | .500   400.00   300.00 
                                                  \ .250   600.00   100.00 












# ---------------------------------------------------------------------------------------
# Orden de los nodos 2-3-1-4
# ---------------------------------------------------------------------------------------

>>> from dmak.data import supertree_bid_2314
>>> nodes = supertree_bid_2314()
>>> nodes
0  C compbid   .350  400.00 cost      
               .500  600.00 cost      
               .150  800.00 cost      
1  C cost      .250  200.00 bid       
               .500  400.00 bid       
               .250  600.00 bid       
2  D bid             500.00 profit    
                     700.00 profit    
3  T profit    

>>> tree = DecisionTree(
...     variables=nodes,
...     initial_variable="compbid"
... )
>>> tree.evaluate()
>>> tree.rollback()
107.5

>>> tree.display()
|
|   107.50 
\-------[C]
         | compbid
         | .350   400.00     0.00 
         +---------------------[C]
         |                      | cost
         |                      | .250   200.00     0.00 
         |                      +---------------------[D]
         |                      |                      | bid
         |                      |                      >   500.00     0.00 
         |                      |                      \   700.00     0.00 
         |                      | cost
         |                      | .500   400.00     0.00 
         |                      +---------------------[D]
         |                      |                      | bid
         |                      |                      >   500.00     0.00 
         |                      |                      \   700.00     0.00 
         |                      | cost
         |                      | .250   600.00     0.00 
         |                      \---------------------[D]
         |                                             | bid
         |                                             >   500.00     0.00 
         |                                             \   700.00     0.00 
         | compbid
         | .500   600.00   125.00 
         +---------------------[C]
         |                      | cost
         |                      | .250   200.00   300.00 
         |                      +---------------------[D]
         |                      |                      | bid
         |                      |                      >   500.00   300.00 
         |                      |                      \   700.00     0.00 
         |                      | cost
         |                      | .500   400.00   100.00 
         |                      +---------------------[D]
         |                      |                      | bid
         |                      |                      >   500.00   100.00 
         |                      |                      \   700.00     0.00 
         |                      | cost
         |                      | .250   600.00     0.00 
         |                      \---------------------[D]
         |                                             | bid
         |                                             |   500.00  -100.00 
         |                                             >   700.00     0.00 
         | compbid
         | .150   800.00   300.00 
         \---------------------[C]
                                | cost
                                | .250   200.00   500.00 
                                +---------------------[D]
                                |                      | bid
                                |                      |   500.00   300.00 
                                |                      >   700.00   500.00 
                                | cost
                                | .500   400.00   300.00 
                                +---------------------[D]
                                |                      | bid
                                |                      |   500.00   100.00 
                                |                      >   700.00   300.00 
                                | cost
                                | .250   600.00   100.00 
                                \---------------------[D]
                                                       | bid
                                                       |   500.00  -100.00 
                                                       >   700.00   100.00 

# ---------------------------------------------------------------------------------------
# Subtree with nodes 1-2-3-4
# ---------------------------------------------------------------------------------------

>>> from dmak.data import supertree_bid
>>> nodes = supertree_bid()
>>> tree = DecisionTree(
...     variables=nodes,
...     initial_variable="bid"
... )
>>> tree.evaluate()
>>> tree.rollback()
65.0

>>> tree.display(idx=14)
| bid
|   700.00    45.00 
\----------------[C]
                  | compbid
                  | .350   400.00     0.00 
                  +---------------------[C]
                  |                      | cost
                  |                      | .250   200.00     0.00 
                  |                      | .500   400.00     0.00 
                  |                      \ .250   600.00     0.00 
                  | compbid
                  | .500   600.00     0.00 
                  +---------------------[C]
                  |                      | cost
                  |                      | .250   200.00     0.00 
                  |                      | .500   400.00     0.00 
                  |                      \ .250   600.00     0.00 
                  | compbid
                  | .150   800.00   300.00 
                  \---------------------[C]
                                         | cost
                                         | .250   200.00   500.00 
                                         | .500   400.00   300.00 
                                         \ .250   600.00   100.00 



>>> tree.display(idx=15)
| compbid
| .350   400.00     0.00 
\---------------------[C]
                       | cost
                       | .250   200.00     0.00 
                       | .500   400.00     0.00 
                       \ .250   600.00     0.00 

>>> tree.display(idx=16)
\ .250   200.00     0.00 


>>> tree.display(max_deep=2)
|
|    65.00 
\-------[D]
         | bid
         >   500.00    65.00 
         +----------------[C]
         |                 | compbid
         |                 | .350   400.00     0.00 
         |                 +---------------------[C]
         |                 | compbid
         |                 | .500   600.00   100.00 
         |                 +---------------------[C]
         |                 | compbid
         |                 | .150   800.00   100.00 
         |                 \---------------------[C]
         | bid
         |   700.00    45.00 
         \----------------[C]
                           | compbid
                           | .350   400.00     0.00 
                           +---------------------[C]
                           | compbid
                           | .500   600.00     0.00 
                           +---------------------[C]
                           | compbid
                           | .150   800.00   300.00 
                           \---------------------[C]



>>> tree.display(policy_suggestion=True)
|
|    65.00 
\-------[D]
         | bid
         >   500.00    65.00 
         \----------------[C]
                           | compbid
                           | .350   400.00     0.00 
                           +---------------------[C]
                           |                      | cost
                           |                      | .250   200.00     0.00 
                           |                      | .500   400.00     0.00 
                           |                      \ .250   600.00     0.00 
                           | compbid
                           | .500   600.00   100.00 
                           +---------------------[C]
                           |                      | cost
                           |                      | .250   200.00   300.00 
                           |                      | .500   400.00   100.00 
                           |                      \ .250   600.00  -100.00 
                           | compbid
                           | .150   800.00   100.00 
                           \---------------------[C]
                                                  | cost
                                                  | .250   200.00   300.00 
                                                  | .500   400.00   100.00 
                                                  \ .250   600.00  -100.00 





